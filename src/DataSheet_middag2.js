import DataSheetBase from './DataSheetBase.js';

export default class DataSheet_middag2 extends DataSheetBase {

  constructor(id, updateCb) {
    super(id, updateCb);
    this.requestedKeyPath = "recipes";  // this value can be specified in the React Studio data sheet UI
  }

  makeDefaultItems() {
    // eslint-disable-next-line no-unused-vars
    let key = 1;
    // eslint-disable-next-line no-unused-vars
    let item;

    // The contents of this data sheet will be loaded by plugin 'Generic JSON'.
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "35382";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/Jalapeno2BPopper2BGrilled2BCheese2BSandwich2B12B500fd186186.jpg";
    item['title'] = "Jalapeno Popper Grilled Cheese Sandwich";
    item['f2f_url'] = "http://food2fork.com/view/35382";
    item['publisher'] = "Closet Cooking";
    item['publisher_url'] = "http://closetcooking.com";
    item['source_url'] = "http://www.closetcooking.com/2011/04/jalapeno-popper-grilled-cheese-sandwich.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "47024";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/icedcoffee5766.jpg";
    item['title'] = "Perfect Iced Coffee";
    item['f2f_url'] = "http://food2fork.com/view/47024";
    item['publisher'] = "The Pioneer Woman";
    item['publisher_url'] = "http://thepioneerwoman.com";
    item['source_url'] = "http://thepioneerwoman.com/cooking/2011/06/perfect-iced-coffee/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "47319";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/CrashHotPotatoes5736.jpg";
    item['title'] = "Crash Hot Potatoes";
    item['f2f_url'] = "http://food2fork.com/view/47319";
    item['publisher'] = "The Pioneer Woman";
    item['publisher_url'] = "http://thepioneerwoman.com";
    item['source_url'] = "http://thepioneerwoman.com/cooking/2008/06/crash-hot-potatoes/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "54384";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/avocadomacandcheesedc99.jpg";
    item['title'] = "Stovetop Avocado Mac and Cheese";
    item['f2f_url'] = "http://food2fork.com/view/54384";
    item['publisher'] = "Two Peas and Their Pod";
    item['publisher_url'] = "http://www.twopeasandtheirpod.com";
    item['source_url'] = "http://www.twopeasandtheirpod.com/stovetop-avocado-mac-and-cheese/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "35171";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/Buffalo2BChicken2BGrilled2BCheese2BSandwich2B5002B4983f2702fe4.jpg";
    item['title'] = "Buffalo Chicken Grilled Cheese Sandwich";
    item['f2f_url'] = "http://food2fork.com/view/35171";
    item['publisher'] = "Closet Cooking";
    item['publisher_url'] = "http://closetcooking.com";
    item['source_url'] = "http://www.closetcooking.com/2011/08/buffalo-chicken-grilled-cheese-sandwich.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "d9a5e8";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/333323997_04bd8d6c53da11.jpg";
    item['title'] = "Cinnamon Rolls";
    item['f2f_url'] = "http://food2fork.com/view/d9a5e8";
    item['publisher'] = "The Pioneer Woman";
    item['publisher_url'] = "http://thepioneerwoman.com";
    item['source_url'] = "http://thepioneerwoman.com/cooking/2007/06/cinammon_rolls_/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "47746";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/best_pizza_dough_recipe1b20.jpg";
    item['title'] = "Best Pizza Dough Ever";
    item['f2f_url'] = "http://food2fork.com/view/47746";
    item['publisher'] = "101 Cookbooks";
    item['publisher_url'] = "http://www.101cookbooks.com";
    item['source_url'] = "http://www.101cookbooks.com/archives/001199.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "47899";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/magic_sauce_recipeece9.jpg";
    item['title'] = "Magic Sauce";
    item['f2f_url'] = "http://food2fork.com/view/47899";
    item['publisher'] = "101 Cookbooks";
    item['publisher_url'] = "http://www.101cookbooks.com";
    item['source_url'] = "http://www.101cookbooks.com/archives/magic-sauce-recipe.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "47042";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/5551711173_dc42f7fc4b_zbd8a.jpg";
    item['title'] = "Spicy Dr. Pepper Shredded Pork";
    item['f2f_url'] = "http://food2fork.com/view/47042";
    item['publisher'] = "The Pioneer Woman";
    item['publisher_url'] = "http://thepioneerwoman.com";
    item['source_url'] = "http://thepioneerwoman.com/cooking/2011/03/spicy-dr-pepper-shredded-pork/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "713134";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/ParmesanRoastedPotatoes11985a.jpg";
    item['title'] = "Parmesan Roasted Potatoes";
    item['f2f_url'] = "http://food2fork.com/view/713134";
    item['publisher'] = "Whats Gaby Cooking";
    item['publisher_url'] = "http://whatsgabycooking.com";
    item['source_url'] = "http://whatsgabycooking.com/parmesan-roasted-potatoes/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "35120";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/Bacon2BWrapped2BJalapeno2BPopper2BStuffed2BChicken2B5002B5909939b0e65.jpg";
    item['title'] = "Bacon Wrapped Jalapeno Popper Stuffed Chicken";
    item['f2f_url'] = "http://food2fork.com/view/35120";
    item['publisher'] = "Closet Cooking";
    item['publisher_url'] = "http://closetcooking.com";
    item['source_url'] = "http://www.closetcooking.com/2012/11/bacon-wrapped-jalapeno-popper-stuffed.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "035865";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/BlackMagicCakeSlice1of18c68.jpg";
    item['title'] = "The Best Chocolate Cake";
    item['f2f_url'] = "http://food2fork.com/view/035865";
    item['publisher'] = "My Baking Addiction";
    item['publisher_url'] = "http://www.mybakingaddiction.com";
    item['source_url'] = "http://www.mybakingaddiction.com/the-best-chocolate-cake-recipe/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "35368";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/HotSpinachandArtichokeDip5007579cdf5.jpg";
    item['title'] = "Hot Spinach and Artichoke Dip";
    item['f2f_url'] = "http://food2fork.com/view/35368";
    item['publisher'] = "Closet Cooking";
    item['publisher_url'] = "http://closetcooking.com";
    item['source_url'] = "http://www.closetcooking.com/2008/11/hot-spinach-and-artichoke-dip.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "54400";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/smashedchickpeaavocadosaladsandwich29c5b.jpg";
    item['title'] = "Smashed Chickpea & Avocado Salad Sandwich";
    item['f2f_url'] = "http://food2fork.com/view/54400";
    item['publisher'] = "Two Peas and Their Pod";
    item['publisher_url'] = "http://www.twopeasandtheirpod.com";
    item['source_url'] = "http://www.twopeasandtheirpod.com/smashed-chickpea-avocado-salad-sandwich/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "47166";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/4307514771_c089bbd71017f42.jpg";
    item['title'] = "Restaurant Style Salsa";
    item['f2f_url'] = "http://food2fork.com/view/47166";
    item['publisher'] = "The Pioneer Woman";
    item['publisher_url'] = "http://thepioneerwoman.com";
    item['source_url'] = "http://thepioneerwoman.com/cooking/2010/01/restaurant-style-salsa/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "8f3e73";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/387114468_aafd1be3404a2f.jpg";
    item['title'] = "The Best Lasagna Ever";
    item['f2f_url'] = "http://food2fork.com/view/8f3e73";
    item['publisher'] = "The Pioneer Woman";
    item['publisher_url'] = "http://thepioneerwoman.com";
    item['source_url'] = "http://thepioneerwoman.com/cooking/2007/06/the_best_lasagn/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "e7fdb2";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/MacandCheese1122b.jpg";
    item['title'] = "Mac and Cheese with Roasted Chicken, Goat Cheese, and Rosemary";
    item['f2f_url'] = "http://food2fork.com/view/e7fdb2";
    item['publisher'] = "My Baking Addiction";
    item['publisher_url'] = "http://www.mybakingaddiction.com";
    item['source_url'] = "http://www.mybakingaddiction.com/mac-and-cheese-roasted-chicken-and-goat-cheese/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "35354";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/Guinness2BChocolate2BCheesecake2B12B5002af4b6b4.jpg";
    item['title'] = "Guinness Chocolate Cheesecake";
    item['f2f_url'] = "http://food2fork.com/view/35354";
    item['publisher'] = "Closet Cooking";
    item['publisher_url'] = "http://closetcooking.com";
    item['source_url'] = "http://www.closetcooking.com/2011/03/guinness-chocolate-cheesecake.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "35760";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/banana_bread300x2000a14c8c5.jpeg";
    item['title'] = "Banana Bread";
    item['f2f_url'] = "http://food2fork.com/view/35760";
    item['publisher'] = "Simply Recipes";
    item['publisher_url'] = "http://simplyrecipes.com";
    item['source_url'] = "http://www.simplyrecipes.com/recipes/banana_bread/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "32478";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/9956913c10.jpg";
    item['title'] = "The Best Rolled Sugar Cookies";
    item['f2f_url'] = "http://food2fork.com/view/32478";
    item['publisher'] = "All Recipes";
    item['publisher_url'] = "http://allrecipes.com";
    item['source_url'] = "http://allrecipes.com/Recipe/The-Best-Rolled-Sugar-Cookies/Detail.aspx";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "54427";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/GuacamoleGrilledCheese6019.jpg";
    item['title'] = "Guacamole Grilled Cheese Sandwich";
    item['f2f_url'] = "http://food2fork.com/view/54427";
    item['publisher'] = "Two Peas and Their Pod";
    item['publisher_url'] = "http://www.twopeasandtheirpod.com";
    item['source_url'] = "http://www.twopeasandtheirpod.com/guacamole-grilled-cheese-sandwich/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "54489";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/bananapeanutbuttericecream5c16d.jpg";
    item['title'] = "Two-Ingredient Banana Peanut Butter Ice Cream";
    item['f2f_url'] = "http://food2fork.com/view/54489";
    item['publisher'] = "Two Peas and Their Pod";
    item['publisher_url'] = "http://www.twopeasandtheirpod.com";
    item['source_url'] = "http://www.twopeasandtheirpod.com/two-ingredient-banana-peanut-butter-ice-cream/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "36259";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/shepherdspie300x2003d240a98.jpg";
    item['title'] = "Easy Shepherd&#8217;s Pie";
    item['f2f_url'] = "http://food2fork.com/view/36259";
    item['publisher'] = "Simply Recipes";
    item['publisher_url'] = "http://simplyrecipes.com";
    item['source_url'] = "http://www.simplyrecipes.com/recipes/easy_shepherds_pie/";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "35169";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/Buffalo2BChicken2BChowder2B5002B0075c131caa8.jpg";
    item['title'] = "Buffalo Chicken Chowder";
    item['f2f_url'] = "http://food2fork.com/view/35169";
    item['publisher'] = "Closet Cooking";
    item['publisher_url'] = "http://closetcooking.com";
    item['source_url'] = "http://www.closetcooking.com/2011/11/buffalo-chicken-chowder.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "3620";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/720553ee26.jpg";
    item['title'] = "Best Brownies";
    item['f2f_url'] = "http://food2fork.com/view/3620";
    item['publisher'] = "All Recipes";
    item['publisher_url'] = "http://allrecipes.com";
    item['source_url'] = "http://allrecipes.com/Recipe/Best-Brownies/Detail.aspx";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "29159";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/19321150c4.jpg";
    item['title'] = "Slow Cooker Chicken Tortilla Soup";
    item['f2f_url'] = "http://food2fork.com/view/29159";
    item['publisher'] = "All Recipes";
    item['publisher_url'] = "http://allrecipes.com";
    item['source_url'] = "http://allrecipes.com/Recipe/Slow-Cooker-Chicken-Tortilla-Soup/Detail.aspx";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "2803";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/124030cedd.jpg";
    item['title'] = "Banana Crumb Muffins";
    item['f2f_url'] = "http://food2fork.com/view/2803";
    item['publisher'] = "All Recipes";
    item['publisher_url'] = "http://allrecipes.com";
    item['source_url'] = "http://allrecipes.com/Recipe/Banana-Crumb-Muffins/Detail.aspx";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "2734";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/254186ea50.jpg";
    item['title'] = "Banana Banana Bread";
    item['f2f_url'] = "http://food2fork.com/view/2734";
    item['publisher'] = "All Recipes";
    item['publisher_url'] = "http://allrecipes.com";
    item['source_url'] = "http://allrecipes.com/Recipe/Banana-Banana-Bread/Detail.aspx";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "47692";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/healthy_cookies4ee3.jpg";
    item['title'] = "Nikki";
    item['f2f_url'] = "http://food2fork.com/view/47692";
    item['publisher'] = "101 Cookbooks";
    item['publisher_url'] = "http://www.101cookbooks.com";
    item['source_url'] = "http://www.101cookbooks.com/archives/nikkis-healthy-cookies-recipe.html";
    item.key = key++;
    
    item = {};
    this.items.push(item);
    item['recipe_id'] = "34889";
    item['social_rank'] = "100";
    item['image_url'] = "http://static.food2fork.com/4515542dbb.jpg";
    item['title'] = "Zesty Slow Cooker Chicken Barbeque";
    item['f2f_url'] = "http://food2fork.com/view/34889";
    item['publisher'] = "All Recipes";
    item['publisher_url'] = "http://allrecipes.com";
    item['source_url'] = "http://allrecipes.com/Recipe/Zesty-Slow-Cooker-Chicken-Barbecue/Detail.aspx";
    item.key = key++;
  }

  
  urlFromOptions(options) {
    const baseUrl = "https://www.food2fork.com/api/";
    
    let path = options.servicePath || '';
    if (path.length > 0 && path.substr(0, 1) !== '/' && baseUrl.substr(baseUrl.length - 1, 1) !== '/')
      path = '/'+path;
  
    let query = options.query || '';
    if (query.length > 0) {
      const dataSlots = options.dataSlots || {};
      query = "?" + this.expandSlotTemplateString(query, dataSlots);
    }
  
    return baseUrl + path + query; 
  }
  
  // this function's implementation is provided by React Studio.
  _fetchComplete = (err, options) => {
    if (err) {
      console.log('** Web service write failed: ', err, options);
    } else {
      if (this.updateCb) this.updateCb(this);
    }
  }
  
  addItem(item, options) {
    super.addItem(item, options);
    
    const url = this.urlFromOptions(options);
    
    let headers = {};
    headers['Content-Type'] = 'application/json';
  
    const fetchOpts = {
      method: 'POST',
    	headers: headers,
    	body: JSON.stringify(item),
    };
  
    fetch(url, fetchOpts)
      .then((response) => {
        if (response.status >= 400) {
          console.log("** Error sending %s to %s, response: ", fetchOpts.method, url, response);
          throw new Error("Server error: "+response.status);
        }
        return response.json();
      })
      .then((json) => {
        this._fetchComplete(null, options);
      })
      .catch((exc) => {
        this._fetchComplete(exc, options);
      });  
  }
  
  removeItem(item, options) {
    super.removeItem(item, options);
    
    const url = this.urlFromOptions(options);
    
    let headers = {};
    headers['Content-Type'] = 'application/json';
  
    const fetchOpts = {
      method: 'DELETE',
    	headers: headers,
    	body: JSON.stringify(item),
    };
  
    fetch(url, fetchOpts)
      .then((response) => {
        if (response.status >= 400) {
          console.log("** Error sending %s to %s, response: ", fetchOpts.method, url, response);
          throw new Error("Server error: "+response.status);
        }
        return response.json();
      })
      .then((json) => {
        this._fetchComplete(null, options);
      })
      .catch((exc) => {
        this._fetchComplete(exc, options);
      });  
  }
  
  replaceItemByRowIndex(idx, item, options) {
    super.replaceItemByRowIndex(idx, item, options);
    
    const url = this.urlFromOptions(options);
    
    let headers = {};
    headers['Content-Type'] = 'application/json';
  
    const fetchOpts = {
      method: 'PUT',
    	headers: headers,
    	body: JSON.stringify(item),
    };
  
    fetch(url, fetchOpts)
      .then((response) => {
        if (response.status >= 400) {
          console.log("** Error sending %s to %s, response: ", fetchOpts.method, url, response);
          throw new Error("Server error: "+response.status);
        }
        return response.json();
      })
      .then((json) => {
        this._fetchComplete(null, options);
      })
      .catch((exc) => {
        this._fetchComplete(exc, options);
      });  
  }
  

}
